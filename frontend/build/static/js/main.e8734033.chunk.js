(this["webpackJsonpmesto-react"]=this["webpackJsonpmesto-react"]||[]).push([[0],{30:function(e,t,n){},37:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),o=n(20),s=n.n(o),i=n(9),r=(n(30),n(24)),l=n(5),u=n(2),d=n(0),j=c.a.memo((function(e){var t=e.card.owner===e.currentUser.id,n="photo-elements__delete-button ".concat(!t&&"photo-elements__delete-button_hidden"),a=e.card.likes.some((function(t){return t===e.currentUser.id})),c="photo-elements__like-button ".concat(a&&"photo-elements__like-button_active");return Object(d.jsxs)("li",{className:"photo-elements__item",children:[Object(d.jsx)("img",{className:"photo-elements__image",src:e.card.link,alt:e.card.name,onClick:function(){e.onCardClick(e.card)}}),Object(d.jsxs)("div",{className:"photo-elements__caption",children:[Object(d.jsx)("h2",{className:"photo-elements__text",children:e.card.name}),Object(d.jsxs)("div",{className:"photo-elements__like-container",children:[Object(d.jsx)("button",{className:c,type:"button","aria-label":"\u041d\u0440\u0430\u0432\u0438\u0442\u0441\u044f",onClick:function(){e.onCardLike(e.card)}}),Object(d.jsx)("p",{className:"photo-elements__like-counter",children:e.card.likes.length})]}),Object(d.jsx)("button",{className:n,type:"button","aria-label":"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",onClick:function(){e.onCardDelete(e.card)}})]})]})})),m=c.a.createContext(),b=n.p+"static/media/logo.c2821b38.svg",p=function(e){var t,n=Object(a.useContext)(m);return"signin"===e.page?t=Object(d.jsx)(i.b,{to:"/signup",className:"header__link",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}):"signup"===e.page?t=Object(d.jsx)(i.b,{to:"/signin",className:"header__link",children:"\u0412\u043e\u0439\u0442\u0438"}):"feed"===e.page&&(t=Object(d.jsxs)("nav",{className:"header__nav",children:[Object(d.jsx)("p",{className:"header__info",children:n.email}),Object(d.jsx)(i.b,{to:"/login",className:"header__link header__link_signout",onClick:e.handleSignOut,children:"\u0412\u044b\u0439\u0442\u0438"})]})),Object(d.jsxs)("header",{className:"header",children:[Object(d.jsx)("img",{src:b,alt:"\u043b\u043e\u0433\u043e\u0442\u0438\u043f \u043c\u0435\u0441\u0442\u043e",className:"header__logo"}),t]})},h=function(e){return Object(d.jsx)("footer",{className:"footer",children:Object(d.jsx)("p",{className:"footer__copyright",children:"\xa9 2020 Mesto Russia"})})},O=function(e){var t=Object(a.useContext)(m),n=localStorage.getItem("jwt");return Object(a.useEffect)((function(){e.renderCards(n)}),[]),Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(p,{page:"feed",handleSignOut:e.handleSignOut}),Object(d.jsxs)("main",{className:"main",children:[Object(d.jsxs)("section",{className:"profile",children:[Object(d.jsx)("div",{className:"profile__photo-container",onClick:e.onEditAvatar,children:Object(d.jsx)("img",{src:t.avatar,alt:"\u0444\u043e\u0442\u043e \u043f\u0440\u043e\u0444\u0438\u043b\u044f",className:"profile__photo"})}),Object(d.jsxs)("div",{className:"profile__info",children:[Object(d.jsxs)("div",{className:"profile__title",children:[Object(d.jsx)("h1",{className:"profile__name",children:t.name}),Object(d.jsx)("button",{className:"profile__edit-button",type:"button","aria-label":"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",onClick:e.onEditProfile})]}),Object(d.jsx)("p",{className:"profile__description",children:t.about})]}),Object(d.jsx)("button",{className:"profile__add-button",type:"button","aria-label":"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c",onClick:e.onAddPlace})]}),Object(d.jsx)("section",{className:"photo-elements",children:Object(d.jsx)("ul",{className:"photo-elements__list",children:e.cards.map((function(t){return Object(d.jsx)(j,{card:t,currentUser:e.currentUser,onCardClick:e.onCardClick,onCardLike:e.onCardLike,onCardDelete:e.onCardDelete},t._id)}))})})]}),Object(d.jsx)(h,{})]})},_=function(e){var t=e.name,n=e.title,a=e.submitButtonText,c=e.isOpen,o=e.onClose,s=e.onSubmit,i=e.isSubmitDisabled,r=void 0!==i&&i,l=e.children;return Object(d.jsx)("div",{className:"modal ".concat(t," ").concat(c?"modal_opened":""),children:Object(d.jsxs)("div",{className:"modal__container",children:[Object(d.jsx)("h2",{className:"modal__title",children:n}),Object(d.jsxs)("form",{action:"#",name:"form-".concat(t),className:"modal__form",method:"POST",onSubmit:s,noValidate:!0,children:[l,Object(d.jsx)("button",{type:"submit",className:"modal__button ".concat(r&&"modal__button_disabled"),disabled:r,children:a})]}),Object(d.jsx)("button",{className:"modal__close-button",type:"button","aria-label":"\u0417\u0430\u043a\u0440\u044b\u0442\u044c",onClick:o})]})})},f=n(10);function g(){var e=Object(a.useState)({}),t=Object(u.a)(e,2),n=t[0],c=t[1],o=Object(a.useState)({}),s=Object(u.a)(o,2),i=s[0],r=s[1],d=Object(a.useState)(!1),j=Object(u.a)(d,2),m=j[0],b=j[1],p=Object(a.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];c(e),r(t),b(n)}),[c,r,b]);return{values:n,setValues:c,handleInputChange:function(e){var t=e.target,a=t.name,o=t.value;c(Object(l.a)(Object(l.a)({},n),{},Object(f.a)({},a,o))),r(Object(l.a)(Object(l.a)({},i),{},Object(f.a)({},a,t.validationMessage))),b(t.closest("form").checkValidity())},errors:i,isFormValid:m,resetForm:p}}var x=function(e){var t=Object(a.useContext)(m),n=g(),c=n.values,o=n.setValues,s=n.handleInputChange,i=n.errors,r=n.isFormValid,l=n.resetForm;return Object(a.useEffect)((function(){t&&l(t),o({name:t.name,about:t.about})}),[t,e.isOpen,l]),Object(d.jsx)(_,{name:"edit-modal",title:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u0440\u043e\u0444\u0438\u043b\u044c",submitButtonText:e.submitButtonText,isOpen:e.isOpen,onClose:e.onClose,onSubmit:function(t){t.preventDefault(),e.onUpdateUser({name:c.name,about:c.about})},isSubmitDisabled:!r,children:Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("input",{type:"text",name:"name",id:"profile-name-input",placeholder:"\u0412\u0430\u0448\u0435 \u0438\u043c\u044f",className:"modal__input",required:!0,minLength:"2",maxLength:"40",autoComplete:"off",value:c.name||"",onChange:s}),Object(d.jsx)("p",{className:"modal__input-error-message ".concat(i.name&&"modal__input-error-message_visible"),id:"profile-name-error",children:i.name||""}),Object(d.jsx)("input",{type:"text",name:"about",id:"profile-job-input",placeholder:"\u0412\u0430\u0448\u0430 \u043f\u0440\u043e\u0444\u0435\u0441\u0441\u0438\u044f",className:"modal__input",required:!0,minLength:"2",maxLength:"200",autoComplete:"off",value:c.about||"",onChange:s}),Object(d.jsx)("p",{className:"modal__input-error-message ".concat(i.about&&"modal__input-error-message_visible"),id:"profile-job-error",children:i.about||""})]})})},v=function(e){var t=g(),n=t.values,c=(t.setValues,t.handleInputChange),o=t.errors,s=t.isFormValid,i=t.resetForm;return Object(a.useEffect)((function(){i()}),[e.isOpen]),Object(d.jsx)(_,{name:"add-modal",title:"\u041d\u043e\u0432\u043e\u0435 \u043c\u0435\u0441\u0442\u043e",submitButtonText:e.submitButtonText,isOpen:e.isOpen,onClose:e.onClose,onSubmit:function(t){t.preventDefault(),e.onAddPlace({name:n.place,link:n.link}),i()},isSubmitDisabled:!s,children:Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("input",{type:"text",name:"place",id:"place-name-input",placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",className:"modal__input",required:!0,minLength:"1",maxLength:"30",autoComplete:"off",value:n.place||"",onChange:c}),Object(d.jsx)("p",{className:"modal__input-error-message ".concat(o.place&&"modal__input-error-message_visible"),id:"place-name-error",children:o.place}),Object(d.jsx)("input",{type:"url",name:"link",id:"place-link-input",placeholder:"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0443",className:"modal__input",required:!0,value:n.link||"",onChange:c}),Object(d.jsx)("p",{className:"modal__input-error-message ".concat(o.link&&"modal__input-error-message_visible"),id:"place-link-error",children:o.link})]})})},C=function(e){var t=Object(a.useRef)();return Object(d.jsx)(_,{name:"avatar-update-modal",title:"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0430\u0432\u0430\u0442\u0430\u0440",submitButtonState:e.submitButtonState,isOpen:e.isOpen,onClose:e.onClose,onSubmit:function(n){n.preventDefault(),e.onUpdateAvatar({avatarUrl:t.current.value}),t.current.value=""},children:Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("input",{ref:t,type:"url",name:"avatar-link",id:"avatar-link-input",placeholder:"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0443",className:"modal__input",required:!0}),Object(d.jsx)("p",{className:"modal__input-error-message",id:"avatar-link-error"})]})})},k=function(e){return Object(d.jsx)("div",{className:"".concat(e.name," ").concat(e.isOpen?"pic-modal_opened":""),children:Object(d.jsxs)("div",{className:"pic-modal__container",children:[Object(d.jsxs)("figure",{className:"pic-modal__picture",children:[Object(d.jsx)("img",{src:e.card.link,alt:e.card.name,className:"pic-modal__image"}),Object(d.jsx)("figcaption",{className:"pic-modal__caption",children:e.card.name})]}),Object(d.jsx)("button",{className:"pic-modal__close-button",type:"button","aria-label":"\u0417\u0430\u043a\u0440\u044b\u0442\u044c",onClick:e.onClose})]})})},N=function(e){var t=Object(a.useState)({email:"",password:""}),n=Object(u.a)(t,2),c=n[0],o=n[1],s=function(e){var t=e.target,n=t.name,a=t.value;o(Object(l.a)(Object(l.a)({},c),{},Object(f.a)({},n,a)))};return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(p,{page:"signin"}),Object(d.jsx)("div",{className:"login",children:Object(d.jsxs)("div",{className:"login__containter",children:[Object(d.jsx)("h1",{className:"login__title",children:"\u0412\u0445\u043e\u0434"}),Object(d.jsxs)("form",{onSubmit:function(t){t.preventDefault();var n=c.email,a=c.password;e.handleLogin(n,a)},children:[Object(d.jsx)("input",{type:"email",name:"email",className:"login__input",placeholder:"Email",value:c.email,onChange:s}),Object(d.jsx)("input",{type:"password",name:"password",className:"login__input",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",value:c.password,onChange:s}),Object(d.jsx)("div",{className:"login__button-containter",children:Object(d.jsx)("button",{type:"submit",className:"login__button",children:"\u0412\u043e\u0439\u0442\u0438"})})]})]})})]})},S=n.p+"static/media/signup-modal-result-fail.d4ce2a26.svg",y=n.p+"static/media/signup-modal-result-success.a9eb6caf.svg",T=function(e){var t,n=e.resultText;return t=!0===e.signupResult?y:S,Object(d.jsx)("div",{className:"signup-modal ".concat(e.isOpen?"signup-modal_opened":""),children:Object(d.jsxs)("div",{className:"signup-modal__container",children:[Object(d.jsx)("img",{src:t,alt:"\u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0430 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u0430",className:"signup-modal__img"}),Object(d.jsx)("p",{className:"signup-modal__text",children:n}),Object(d.jsx)("button",{className:"signup-modal__close-button",onClick:e.onClose})]})})},w=function(e){var t=Object(a.useState)({email:"",password:""}),n=Object(u.a)(t,2),c=n[0],o=n[1],s=function(e){var t=e.target,n=t.name,a=t.value;o(Object(l.a)(Object(l.a)({},c),{},Object(f.a)({},n,a)))};return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(p,{page:"signup"}),Object(d.jsxs)("div",{className:"login",children:[Object(d.jsxs)("div",{className:"login__containter",children:[Object(d.jsx)("h1",{className:"login__title",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}),Object(d.jsxs)("form",{onSubmit:function(t){t.preventDefault();var n=c.email,a=c.password;e.handleSignup(n,a.trim())},className:"login__form",children:[Object(d.jsx)("input",{id:"email",name:"email",type:"email",className:"login__input",placeholder:"Email",value:c.email,onChange:s}),Object(d.jsx)("input",{id:"password",name:"password",type:"password",className:"login__input",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",value:c.password,onChange:s}),Object(d.jsx)("button",{type:"submit",className:"login__button",children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})]})]}),Object(d.jsx)("div",{className:"login__button-containter",children:Object(d.jsxs)("div",{className:"login__button-caption",children:[Object(d.jsx)("span",{children:"\u0423\u0436\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b?"}),Object(d.jsx)(i.b,{to:"/signin",className:"login__link",children:"\u0412\u043e\u0439\u0442\u0438"})]})})]}),Object(d.jsx)(T,{signupResult:e.signupResult,isOpen:e.isSignupModalOpen,onClose:e.onClose,resultText:e.resultText})]})},E=n(25),U=n(3),B=["component"],L=function(e){var t=e.component,n=Object(E.a)(e,B);return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)(U.b,{exact:!0,path:n.path,children:function(){return n.loggedIn?Object(d.jsx)(t,Object(l.a)({},n)):Object(d.jsx)(U.a,{to:"/login"})}})})},A=n(22),P=n(23),I="https://api.krylov.students.nomoredomains.work",D=new(function(){function e(t){var n=t.url;Object(A.a)(this,e),this._url=n}return Object(P.a)(e,[{key:"_checkErrors",value:function(e){return e.ok?e.json():Promise.reject("Something is wrong: 4 8 15 16 23 42 && ".concat(e.status," ").concat(e.statusText))}},{key:"updateUser",value:function(e){return fetch("".concat(this._url,"/users/me"),{method:"PATCH",headers:{authorization:"Bearer ".concat(localStorage.getItem("jwt")),"Content-Type":"application/json"},body:JSON.stringify({name:e.name,about:e.about})}).then(this._checkErrors)}},{key:"updateUserAvatar",value:function(e){var t=e.avatarUrl;return fetch("".concat(this._url,"/users/me/avatar"),{method:"PATCH",headers:{authorization:"Bearer ".concat(localStorage.getItem("jwt")),"Content-Type":"application/json"},body:JSON.stringify({avatarUrl:t})}).then(this._checkErrors)}},{key:"getCards",value:function(e){return fetch("".concat(this._url,"/cards"),{method:"GET",headers:{authorization:"Bearer ".concat(e),"Content-Type":"application/json"}}).then(this._checkErrors)}},{key:"createCard",value:function(e){var t=e.name,n=e.link;return fetch("".concat(this._url,"/cards"),{method:"POST",headers:{authorization:"Bearer ".concat(localStorage.getItem("jwt")),"Content-Type":"application/json"},body:JSON.stringify({name:t,link:n})}).then(this._checkErrors)}},{key:"deleteCard",value:function(e){return fetch("".concat(this._url,"/cards/").concat(e),{method:"DELETE",headers:{authorization:"Bearer ".concat(localStorage.getItem("jwt")),"Content-Type":"application/json"}}).then(this._checkErrors)}},{key:"changeLikeCardStatus",value:function(e,t){return t?fetch("".concat(this._url,"/cards/").concat(e,"/likes"),{method:"DELETE",headers:{authorization:"Bearer ".concat(localStorage.getItem("jwt")),"Content-Type":"application/json"}}).then(this._checkErrors):fetch("".concat(this._url,"/cards/").concat(e,"/likes"),{method:"PUT",headers:{authorization:"Bearer ".concat(localStorage.getItem("jwt")),"Content-Type":"application/json"}}).then(this._checkErrors)}}]),e}())({url:I}),F=function(e){return e.ok?e.json():Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(e.status))},z=function(){var e=Object(a.useState)({name:"",email:"",about:"",avatar:"",id:""}),t=Object(u.a)(e,2),n=t[0],c=t[1],o=Object(a.useState)(!1),s=Object(u.a)(o,2),i=s[0],j=s[1],b=Object(a.useState)(!1),p=Object(u.a)(b,2),h=p[0],_=p[1],f=Object(a.useState)("\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"),g=Object(u.a)(f,2),S=g[0],y=g[1],T=Object(a.useState)(!1),E=Object(u.a)(T,2),B=E[0],A=E[1],P=Object(a.useState)("\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"),z=Object(u.a)(P,2),V=z[0],J=z[1],q=Object(a.useState)(!1),R=Object(u.a)(q,2),M=R[0],G=R[1],H=Object(a.useState)({}),K=Object(u.a)(H,2),Q=K[0],W=K[1],X=Object(a.useState)([]),Y=Object(u.a)(X,2),Z=Y[0],$=Y[1],ee=Object(a.useState)(!1),te=Object(u.a)(ee,2),ne=te[0],ae=te[1],ce=Object(a.useState)("\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"),oe=Object(u.a)(ce,2),se=oe[0],ie=oe[1],re=function(){_(!1),ae(!1),A(!1),G(!1)},le=Object(U.g)(),ue=Object(a.useState)(!1),de=Object(u.a)(ue,2),je=de[0],me=de[1],be=Object(a.useState)(!1),pe=Object(u.a)(be,2),he=pe[0],Oe=pe[1],_e=Object(a.useState)(""),fe=Object(u.a)(_e,2),ge=fe[0],xe=fe[1],ve=function(){var e,t=localStorage.getItem("jwt");t&&(e=t,fetch("".concat(I,"/users/me"),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(e)}}).then(F)).then((function(e){if(e){var t=e.name,n=e.email,a=e.about,o=e.avatar,s=e._id;c({name:t,email:n,about:a,avatar:o,id:s}),j(!0),le.push("/feed")}})).catch((function(e){return console.error(e)}))};Object(a.useEffect)((function(){ve()}),[]);var Ce=function(e){"Escape"===e.key&&re()};Object(a.useEffect)((function(){return document.addEventListener("keydown",Ce),function(){document.removeEventListener("keydown",Ce)}}),[]);return Object(d.jsxs)(m.Provider,{value:n,children:[Object(d.jsxs)(U.d,{children:[Object(d.jsx)(U.b,{exact:!0,path:"/signin",children:Object(d.jsx)(N,{handleLogin:function(e,t){(function(e,t){return fetch("".concat(I,"/signin"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})}).then(F)})(e,t).then((function(e){var t=e.name,n=e.email,a=e.about,o=e.avatar,s=e.id;e.token&&(localStorage.setItem("jwt",e.token),c({name:t,email:n,about:a,avatar:o,id:s}),ve())})).catch((function(e){return console.error(e)}))}})}),Object(d.jsx)(U.b,{exact:!0,path:"/signup",children:Object(d.jsx)(w,{handleSignup:function(e,t){(function(e,t){return fetch("".concat(I,"/signup"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})}).then(F)})(e,t).then((function(){Oe(!0),xe("\u0412\u044b \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043b\u0438\u0441\u044c!"),me(!0)})).catch((function(e){xe("\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a! \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0451 \u0440\u0430\u0437."),me(!0),console.error(e)}))},signupResult:he,isSignupModalOpen:je,onClose:function(){he?(me(!1),xe(""),le.push("/signin")):(me(!1),xe(""))},resultText:ge})}),Object(d.jsx)(L,{path:"/feed",component:O,loggedIn:i,currentUser:n,onEditProfile:function(){_(!0)},onAddPlace:function(){ae(!0)},onEditAvatar:function(){A(!0)},onCardClick:function(e){W(e),G(!0)},cards:Z,renderCards:function(e){return D.getCards(e).then((function(e){return $(e.reverse())}))},onCardLike:function(e){var t=e.likes.find((function(e){return e===n.id}));D.changeLikeCardStatus(e._id,t).then((function(t){var n=Z.map((function(n){return n._id===e._id?t:n}));$(n)})).catch((function(e){return console.error(e)}))},onCardDelete:function(e){D.deleteCard(e._id).then((function(){var t=Z.filter((function(t){return t._id!==e._id}));$(t)})).catch((function(e){return console.error(e)}))},handleSignOut:function(){localStorage.removeItem("jwt"),c({name:"",email:"",about:"",avatar:"",id:""}),j(!1)}}),Object(d.jsx)(U.b,{exact:!0,path:"/",children:i?Object(d.jsx)(U.a,{to:"/feed"}):Object(d.jsx)(U.a,{to:"/signin"})}),Object(d.jsx)(U.b,{path:"/*",children:i?Object(d.jsx)(U.a,{to:"/feed"}):Object(d.jsx)(U.a,{to:"/signin"})})]}),Object(d.jsx)(x,{isOpen:h,onClose:re,currentUser:n,onUpdateUser:function(e){y("\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435..."),D.updateUser(e).then((function(e){var t=e.name,a=e.about;c(Object(l.a)(Object(l.a)({},n),{},{name:t,about:a})),re()})).catch((function(e){return console.error(e)})).finally((function(){y("\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c")}))},submitButtonText:S}),Object(d.jsx)(v,{isOpen:ne,onClose:re,currentUser:n,onAddPlace:function(e){ie("\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435..."),D.createCard({name:e.name,link:e.link}).then((function(e){$([e].concat(Object(r.a)(Z))),re()})).catch((function(e){return console.error(e)})).finally((function(){ie("\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c")}))},submitButtonText:se}),Object(d.jsx)(C,{isOpen:B,onClose:re,currentUser:n,onUpdateAvatar:function(e){var t=e.avatarUrl;J("\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435..."),D.updateUserAvatar({avatarUrl:t}).then((function(e){var t=e.avatar;c(Object(l.a)(Object(l.a)({},n),{},{avatar:t})),re()})).catch((function(e){return console.error(e)})).finally((function(){J("\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c")}))},submitButtonState:V}),Object(d.jsx)(k,{name:"pic-modal",isOpen:M,onClose:re,card:Q})]})};s.a.render(Object(d.jsx)(c.a.StrictMode,{children:Object(d.jsx)(i.a,{children:Object(d.jsx)(z,{})})}),document.querySelector("#root"))}},[[37,1,2]]]);
//# sourceMappingURL=main.e8734033.chunk.js.map